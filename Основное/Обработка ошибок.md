# Обработка ошибок

## JSON-схема ошибки
JSON-схема ошибка состоит из следующих полей, обозначенных в таблице.
| Ключ                           | Описание                                    |
| :----------------------------- | :------------------------------------------ |
| **error_code**<br />`integer`  | Код ошибки<br />`Всегда присутствует`       |
| **error_msg**<br />`string`    | Сообщение ошибки<br />`Всегда присутствует` |
| **error_details**<br />`array` | Детали, разъясняющие ошибку                 |

JSON-схема деталей ошибки, перечисленных в поле `error_details`, описана в данной таблице.
| Ключ                    | Описание                                   |
| :---------------------- | :----------------------------------------- |
| **key**<br />`string`   | Ключ детали<br />`Всегда присутствует`     |
| **value**<br />`string` | Значение детали<br />`Всегда присутствует` |

## Коды общих ошибок

**1** `unknown error`  
Произошла неизвестная ошибка. Повторите запрос позже.

**2** `not found`  
Неизвестный метод или некорректный путь. Проверьте правильность [синтаксиса запроса](https://github.com/EcostCompony/specter_api_documentation/blob/master/README.md#синтаксис).

**3** `the access token was not transferred`  
Токен доступа не был передан.

**4** `invalid access token`  
Неверный токен доступа.

**5** `too frequent requests`  
Слишком частые запросы. Повторите запрос позже.

**6** `invalid request`  
Один из обязательных параметров не был передан, либо он недопустим.
| Ключ деталей            | Возможные значения |
| :---------------------- | :----------------- |
| **key**<br />`string`   | Имя параметра      |
| **value**<br />`string` | • Значение недопустимого параметра<br />• Важность параметра<br />  — `required` — обязательный параметр<br />— `optional` — необязательный параметр<br />— `optional*` — необязательный параметр, но хотя бы один должен быть передан |

**7** `invalid parameter value`  
Один из параметров некорректен.
| Ключ деталей            | Возможные значения          |
| :---------------------- | :-------------------------- |
| **key**<br />`string`   | Имя некорректного параметра |
| **value**<br />`string` | Значение данного параметра  |

**8** `access denied`  
Нет прав на данное действие.
| Ключ деталей            | Возможные значения                                                                           |
| :---------------------- | :------------------------------------------------------------------------------------------- |
| **key**<br />`string`   | Имя параметра, принимающее индетификатор и обозначающее объект, к которому отсутствуют права |
| **value**<br />`string` | Значение данного параметра                                                                   |